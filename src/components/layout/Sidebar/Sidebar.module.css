/* --- Base Collapsed Styles --- */
.sidebar {
  width: 80px; /* Start in collapsed state */
  background-color: var(--ui-background-secondary);
  border-right: 1px solid var(--ui-border-secondary);
  display: flex;
  flex-direction: column;
  padding: 1.5rem 0.75rem;
  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  position: relative; /* Needed for z-index */
  z-index: 100; /* Ensure it floats above content */
}

.logoContainer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding-bottom: 1.5rem;
  color: var(--brand-primary);
  border-bottom: 1px solid var(--ui-border-secondary);
  margin-bottom: 1rem;
  flex-shrink: 0;
}

.logoText,
.navText {
  opacity: 0;
  width: 0;
  overflow: hidden;
  white-space: nowrap;
  transition: opacity 0.2s ease-in-out, width 0.2s ease-in-out;
}

.logoText {
    font-size: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.5px;
    color: var(--ui-text-primary);
}

.navigation {
  flex-grow: 1;
}

.navigation ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.navigation li a,
.lockButton {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem;
  border-radius: 6px;
  text-decoration: none;
  color: var(--ui-text-secondary);
  font-weight: 500;
  transition: background-color 0.2s ease, color 0.2s ease;
  white-space: nowrap;
}

.icon {
  margin-right: 0;
  color: var(--ui-text-tertiary);
  transition: color 0.2s ease, margin-right 0.3s ease;
  flex-shrink: 0;
}

.footer {
  margin-top: auto;
  flex-shrink: 0;
}

.lockButton {
  width: 100%;
  background: none;
  border: none;
  cursor: pointer;
}


/* --- Expanded Styles on Hover --- */

.sidebar:hover {
  width: 260px;
  box-shadow: var(--shadow-md);
}

.sidebar:hover .logoContainer,
.sidebar:hover .navigation li a,
.sidebar:hover .lockButton {
  justify-content: flex-start;
}

.sidebar:hover .logoText,
.sidebar:hover .navText {
  opacity: 1;
  width: auto; /* Allow text to take up its natural space */
}

.sidebar:hover .icon {
  margin-right: 1rem;
}

.sidebar:hover .navigation li a,
.sidebar:hover .lockButton {
    padding: 0.75rem 1rem;
}

/* --- General Hover and Active States (Work in both collapsed and expanded) --- */

.navigation li a:hover {
  background-color: var(--ui-background-tertiary);
  color: var(--ui-text-primary);
}

.lockButton:hover {
    background-color: var(--ui-background-tertiary);
    color: var(--ui-text-primary);
}

.navigation li.active a {
  background-color: var(--brand-primary);
  color: var(--brand-text-on-primary);
  font-weight: 600;
}

.navigation li.active .icon {
  color: var(--brand-text-on-primary);
}

